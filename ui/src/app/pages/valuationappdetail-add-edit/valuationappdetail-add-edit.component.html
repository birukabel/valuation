<!--<p>valuation application detail form</p>-->

<mat-dialog-content cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
    Application Detail Add/Edit
</mat-dialog-content>

<div [innerHTML]="documentrequired" style="color: red;"></div>
<form [formGroup]="valuationDetail" (ngSubmit)="onFormSubmit()">
    <div mat-dialog-content class="content">
        <div class="row" [hidden]="appidshow">
            <mat-form-field appearance="outline">
                <mat-label>Application detail Id</mat-label>
                <input matInput type="number" formControlName="applicationdetailid">
            </mat-form-field>
        </div>
        <div class="row" [hidden]="appidshow">
            <mat-form-field appearance="outline">
                <mat-label>Application Id</mat-label>
                <input matInput type="number" formControlName="applicationid">
            </mat-form-field>
        </div>
        <div class="row">
            <mat-form-field appearance="outline">
                <mat-label>Required Engineer</mat-label>
                <mat-select formControlName="requiredengineer">
                    <mat-option *ngFor="let required_engineer of required_engineer"
                        [value]="required_engineer.value">
                        {{required_engineer.viewValue}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Type of property</mat-label>
                <mat-select (selectionChange)="onTypeOfPropertyChange($event)" formControlName="propertytypeid">
                    <mat-option *ngFor="let valuation_property_type of valuation_property_type"
                        [value]="valuation_property_type.value">
                        {{valuation_property_type.viewValue}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="row">
            <mat-form-field appearance="outline">
                <mat-label>Valuation Type</mat-label>
                <mat-select formControlName="valuationtypeid">
                    <mat-option *ngFor="let valuation_type of valuation_type"
                        [value]="valuation_type.value">
                        {{valuation_type.viewValue}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
           
        </div>
        
        <div class="row">
            <mat-form-field appearance="outline">
                <mat-label>Quantity</mat-label>
                <input matInput type="number" placeholder="Ex. 2" formControlName="quantity">
                <div *ngIf="f['quantity'].touched && f['quantity'].invalid" class="alert alert-danger">
                    <div *ngIf="f['quantity'].errors && f['quantity'].errors['required']">quantity is required.</div>
                </div>
            </mat-form-field>
        </div>

        <div class="row">
            <mat-form-field appearance="outline">
                <mat-label>Property Owner</mat-label>
                <input matInput type="text" placeholder="Ex. Biruk Abel" formControlName="propertyowner">
                <div *ngIf="f['propertyowner'].touched && f['propertyowner'].invalid" class="alert alert-danger">
                    <div *ngIf="f['propertyowner'].errors && f['propertyowner'].errors['required']">property owner is required.</div>
                </div>
            </mat-form-field>           
        </div>

        <div class="row">
            <mat-form-field appearance="outline">
               <mat-label>Specific Address of Property</mat-label>
               <input matInput type="text" placeholder="Ex. Yeka Sub City Kebele 05" formControlName="addressofproperty">
               <div *ngIf="f['addressofproperty'].touched && f['addressofproperty'].invalid" class="alert alert-danger">
                   <div *ngIf="f['addressofproperty'].errors && f['addressofproperty'].errors['required']">specific address of property is required.</div>
               </div>
           </mat-form-field>
       </div>

       <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Building Status</mat-label>
            <mat-select formControlName="buildingstatus">
                <mat-option *ngFor="let buildingstatus of buildingstatus"
                    [value]="buildingstatus.value">
                    {{buildingstatus.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>

        <div class="row">
            <mat-form-field appearance="outline">
                <mat-label>Remark</mat-label>
                <textarea matInput type="text" placeholder="Ex. All documents have been fulfiled..." formControlName="remark"></textarea>
                <div *ngIf="f['remark'].touched && f['remark'].invalid" class="alert alert-danger">
                    <div *ngIf="f['remark'].errors && f['remark'].errors['required']">remark is required.</div>
                </div>
            </mat-form-field>
        </div>

    </div>
    <div mat-dialog-actions class="action">
        <button mat-raised-button color="warn" type="button" [mat-dialog-close]="false" style="margin-right: 10px;">Cancel</button>
        <button mat-raised-button  color="accent" type="submit">{{data.quantity ? 'Update': 'Save'}}</button>
    </div>
</form>

